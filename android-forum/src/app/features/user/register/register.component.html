<section class="gradient-form h-full bg-neutral-200 dark:bg-neutral-700">
  <div *ngIf="isLoading">
    <app-loader />
  </div>

  <div *ngIf="!isLoading" class="container h-full p-10">
    <div class="g-6 flex h-full flex-wrap items-center justify-center text-neutral-800 dark:text-neutral-200">
      <div class="w-full">
        <div class="block rounded-lg bg-white shadow-lg dark:bg-neutral-800">
          <div class="g-0 lg:flex lg:flex-wrap">
            <!-- Left column container-->
            <div class="px-4 md:px-0 lg:w-6/12">
              <div class="md:mx-6 md:p-12">
                <!--Logo-->
                <div class="text-center">
                  <img class="mx-auto w-48"
                    src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSblWE8Or9KBSjJUgSFi0kiapp4fh90sfM9Uw&usqp=CAU"
                    alt="logo" />
                  <hr />
                  <h5 class="mb-6 mt-1 pb-1 text-xl font-semibold">
                    Register Forum
                  </h5>
                </div>


<!--START Register FORM-->
                <form #form="ngForm" (ngSubmit)="register(form)">
                  <!--Username input-->
                  <div class="relative mb-4" data-te-input-wrapper-init>
                    <input 
                     class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
                    focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500
                    disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 
                    disabled:shadow-none
                    invalid:border-white-500 invalid:text-red-600
                    focus:invalid:border-red-500 focus:invalid:ring-red-500"
                    type="username"
                    name="username" 
                    id="username" 
                    placeholder="username"
                    #inputUsername="ngModel"
                    ngModel 
                    required
                    minlength="4"                 />
                    <label for="exampleFormControlInput1"
                      class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary">
                    </label>
                    <!--Error Username Container-->
                    <ng-container *ngIf="inputUsername.touched">
                      <p class="error" *ngIf="inputUsername.errors?.['required']">
                        Username is required!
                      </p>
                      <p class="error" *ngIf="inputUsername.errors?.['minlength']">
                        Username must be at least 4 characters!
                      </p>
                      
                    </ng-container>
                  </div>

                  <!--Email input-->
                  <div class="relative mb-4" data-te-input-wrapper-init>
                    <input class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
                     focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500
                     disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 
                     disabled:shadow-none
                     invalid:border-white-500 invalid:text-red-600
                     focus:invalid:border-red-500 focus:invalid:ring-red-500" 
                     type="email"
                      name="email"
                      id="email"
                      placeholder="fanita@gmail.com"
                      inputEmail
                      ngModel
                      #inputEmail="ngModel"
                      required
                      minlength="9"
                      [appEmail]="appEmailDomains"
                          />
                    <label for="exampleFormControlInput1"
                      class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary">
                    </label>

                    <!--Error Email Container-->
                  <ng-container *ngIf="inputEmail.touched">
                    <p class="error" *ngIf="inputEmail.errors?.['required']">
                      Email is required!
                    </p>
                    <p class="error" *ngIf="inputEmail.errors?.['minlength']">
                      Email must be at least 9 characters!
                    </p>
                    <p class="error" *ngIf="inputEmail.errors?.['emailValidator']">
                      Email is not valid!
                    </p>
                  </ng-container>
                  </div>


                  <!--Password input-->
                  <div class="relative mb-4" data-te-input-wrapper-init>
                    <input class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
                    focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500
                    disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 
                    disabled:shadow-none
                    invalid:border-white-500 invalid:text-red-600
                    focus:invalid:border-red-500 focus:invalid:ring-red-500"
                      type="password"
                      name="password"
                      id="password" 
                      placeholder="password"
                      #inputPassword="ngModel"
                      ngModel 
                      required
                      minlength="4" />
                    <label for="exampleFormControlInput11"
                      class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary">
                    </label>

                    <!-- Error for password -->
                   <ng-container *ngIf="inputPassword.touched">
                     <p class="error" *ngIf="inputPassword.errors?.['required']">
                       Password is required!
                     </p>
                     <p class="error" *ngIf="inputPassword.errors?.['minlength']">
                       Password must be at least
                       {{inputPassword.errors?.['minlength']['requiredLength']}} characters!
                     </p>
                   </ng-container>
                  </div>
                  <!-- rePassword -->


                  <div class="relative mb-4" data-te-input-wrapper-init>
                    <input 
                  
                    class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
                    focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500
                    disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 
                    disabled:shadow-none
                    invalid:border-white-500 invalid:text-red-600
                    focus:invalid:border-red-500 focus:invalid:ring-red-500"
                     type="password"
                     name="rePassword"
                     id="rePassword"
                     placeholder="repeat password"
                     #inputRePassword="ngModel"
                     ngModel
                     required  />
                    <label for="rePassword"
                      class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary">
                    </label>
                    
                      <!-- Error for Repeat password -->
                       <ng-container *ngIf="inputRePassword.touched">
                           <p class="error" *ngIf="inputRePassword.errors?.['required']">
                              Repeat password is required!
                              </p>
                              <p class="error" *ngIf="inputRePassword.value != inputPassword.value ">
                                 Passwords do not match!
                             </p>
                          </ng-container>
                  </div>
              
                  <hr class="my-8 h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />
                  <!--Submit button-->
                  <div class="mb-8 pb-1 pt-1 text-center">
                    <button  [disabled]="form.invalid || inputRePassword.value != inputPassword.value"
                      class="mb-3 inline-block w-full rounded px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_rgba(0,0,0,0.2)] transition duration-150 ease-in-out hover:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)] focus:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)] focus:outline-none focus:ring-0 active:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)]"
                     
                       data-te-ripple-init data-te-ripple-color="light"
                        style="
                          background: linear-gradient(to right, #1c8f7e, rgb(126, 242, 213), #056a47,  #0f0632);
                        ">
                      Register
                    </button>

                  </div>


                  <hr class="my-2 h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />
                  <!--Login Link-->
                  <div class="text-center">
                    <p class="mb-0 mr-2">Have an account?
                      <a class="text-cyan-600 " routerLink="/login">Login here</a>
                    </p>
                  </div>


                </form>
              </div>
            </div>

            <!-- Right column container with background and description-->
            <div class="flex items-center rounded-b-lg lg:w-6/12 lg:rounded-r-lg lg:rounded-bl-none"
              style="background: linear-gradient(to right, #1c8f7e, rgb(126, 242, 213), #056a47,  #0f0632)">
              <div class="px-4 py-6 text-white md:mx-6 md:p-12">
                <h4 class="mb-6 text-xl font-semibold">
                  We are more than just a forum
                </h4>
                <p class="text-sm">
                  Create new theme or comment current ones about Android OS, as well as using phones, tablets and other
                  devices from manufacturers
                  such as Samsung, Huawei, LG, OnePlus, Xiaomi, Google. Welcome to Android Forum Bulgaria.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>